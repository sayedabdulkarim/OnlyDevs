<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OnlyDevs - Free Fake REST & GraphQL API</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <nav class="navbar">
    <div class="nav-brand">
      <span class="logo">{Only}</span>Devs
    </div>
    <div class="nav-links">
      <a href="#resources">Resources</a>
      <a href="#routes">Routes</a>
      <a href="#graphql">GraphQL</a>
      <a href="https://github.com/sayedabdulkarim" target="_blank">GitHub</a>
      <button class="theme-toggle" id="themeToggle" title="Toggle theme">
        <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="5"/>
          <line x1="12" y1="1" x2="12" y2="3"/>
          <line x1="12" y1="21" x2="12" y2="23"/>
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
          <line x1="1" y1="12" x2="3" y2="12"/>
          <line x1="21" y1="12" x2="23" y2="12"/>
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
        </svg>
        <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
        </svg>
      </button>
    </div>
  </nav>

  <header class="hero">
    <h1><span class="highlight">{Only}</span> Devs</h1>
    <p class="tagline">Free fake REST & GraphQL API for testing and prototyping</p>
    <p class="powered">Powered by <strong>Express</strong> + <strong>Apollo GraphQL</strong> + <strong>MongoDB</strong></p>
    <p class="stats">Exclusive content for developers üòè</p>
  </header>

  <main class="container">
    <section class="try-it">
      <h2>Try it</h2>
      <p>Run this code in your console or from any site:</p>
      <div class="code-block">
        <pre><code><span class="fn">fetch</span>(<span class="str">'https://onlydevs.onrender.com/posts/1'</span>)
  .<span class="fn">then</span>(<span class="param">response</span> => response.<span class="fn">json</span>())
  .<span class="fn">then</span>(<span class="param">json</span> => console.<span class="fn">log</span>(json))</code></pre>
        <button class="run-btn" onclick="runCode()">Run Script</button>
      </div>
      <div class="output" id="output">
        <pre>{}</pre>
      </div>
    </section>

    <section class="info">
      <h2>When to use</h2>
      <p>OnlyDevs is a free online REST & GraphQL API that you can use whenever you need some fake data. It can be in a README on GitHub, for a demo on CodeSandbox, in code examples on Stack Overflow, ...or simply to test things locally.</p>
    </section>

    <section id="resources" class="resources">
      <h2>Resources</h2>
      <p>OnlyDevs comes with a set of 6 common resources:</p>
      <table>
        <tbody>
          <tr><td><a href="/posts">/posts</a></td><td>100 posts</td></tr>
          <tr><td><a href="/comments">/comments</a></td><td>500 comments</td></tr>
          <tr><td><a href="/albums">/albums</a></td><td>100 albums</td></tr>
          <tr><td><a href="/photos">/photos</a></td><td>5000 photos</td></tr>
          <tr><td><a href="/todos">/todos</a></td><td>200 todos</td></tr>
          <tr><td><a href="/users">/users</a></td><td>10 users</td></tr>
        </tbody>
      </table>
      <p class="note"><strong>Note:</strong> Resources have relations. For example: posts have many comments, albums have many photos, users have posts, albums and todos.</p>
    </section>

    <section id="routes" class="routes">
      <h2>Routes</h2>
      <p>All HTTP methods are supported. You can use http or https for your requests.</p>

      <h3>GET</h3>
      <table>
        <tbody>
          <tr><td>GET</td><td><a href="/posts">/posts</a></td></tr>
          <tr><td>GET</td><td><a href="/posts/1">/posts/1</a></td></tr>
          <tr><td>GET</td><td><a href="/posts/1/comments">/posts/1/comments</a></td></tr>
          <tr><td>GET</td><td><a href="/comments?postId=1">/comments?postId=1</a></td></tr>
          <tr><td>GET</td><td><a href="/users/1/posts">/users/1/posts</a></td></tr>
          <tr><td>GET</td><td><a href="/users/1/albums">/users/1/albums</a></td></tr>
          <tr><td>GET</td><td><a href="/users/1/todos">/users/1/todos</a></td></tr>
        </tbody>
      </table>

      <h3>POST, PUT, PATCH, DELETE</h3>
      <table>
        <tbody>
          <tr><td>POST</td><td>/posts</td></tr>
          <tr><td>PUT</td><td>/posts/1</td></tr>
          <tr><td>PATCH</td><td>/posts/1</td></tr>
          <tr><td>DELETE</td><td>/posts/1</td></tr>
        </tbody>
      </table>
      <p class="note"><strong>Note:</strong> POST, PUT, PATCH and DELETE requests are faked - they won't actually persist data, but will return the expected response.</p>
    </section>

    <section class="filtering">
      <h2>Filtering & Pagination</h2>
      <p>Use query parameters to filter and paginate:</p>
      <table>
        <tbody>
          <tr><td>Filter by field</td><td><a href="/posts?userId=1">/posts?userId=1</a></td></tr>
          <tr><td>Pagination</td><td><a href="/posts?_page=1&_limit=10">/posts?_page=1&_limit=10</a></td></tr>
          <tr><td>Sorting</td><td><a href="/posts?_sort=id&_order=desc">/posts?_sort=id&_order=desc</a></td></tr>
          <tr><td>Search</td><td><a href="/posts?q=qui">/posts?q=qui</a></td></tr>
        </tbody>
      </table>
    </section>

    <section id="graphql" class="graphql">
      <h2>GraphQL</h2>
      <p>OnlyDevs also supports GraphQL! Access the GraphQL endpoint at:</p>
      <div class="code-block">
        <pre><code>POST /graphql</code></pre>
      </div>

      <h3>Example Query</h3>
      <div class="code-block">
        <pre><code><span class="keyword">query</span> {
  users(limit: 5) {
    id
    name
    email
    posts {
      title
    }
  }
}</code></pre>
      </div>

      <h3>Example Mutation</h3>
      <div class="code-block">
        <pre><code><span class="keyword">mutation</span> {
  createPost(
    userId: 1
    title: "My new post"
    body: "This is the content"
  ) {
    id
    title
    body
  }
}</code></pre>
      </div>

      <p>Access the GraphQL Playground at <a href="/graphql">/graphql</a> for interactive queries.</p>
    </section>
  </main>

  <footer>
    <p>Made with <span class="heart">‚ù§Ô∏è</span> by <a href="https://github.com/sayedabdulkarim" target="_blank">Sayed Abdul Karim</a></p>
  </footer>

  <script>
    // Theme Toggle with View Transitions API (Circular Reveal)
    const themeToggle = document.getElementById('themeToggle');
    const html = document.documentElement;

    // Check saved theme or system preference
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
      html.setAttribute('data-theme', savedTheme);
    } else if (window.matchMedia('(prefers-color-scheme: light)').matches) {
      html.setAttribute('data-theme', 'light');
    }

    themeToggle.addEventListener('click', async (e) => {
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';

      // Get button position for animation origin
      const x = e.clientX || themeToggle.getBoundingClientRect().left + themeToggle.offsetWidth / 2;
      const y = e.clientY || themeToggle.getBoundingClientRect().top + themeToggle.offsetHeight / 2;

      // Calculate the maximum radius for the circle
      const endRadius = Math.hypot(
        Math.max(x, window.innerWidth - x),
        Math.max(y, window.innerHeight - y)
      );

      // Check if View Transitions API is supported
      if (document.startViewTransition) {
        const transition = document.startViewTransition(() => {
          html.setAttribute('data-theme', newTheme);
          localStorage.setItem('theme', newTheme);
        });

        transition.ready.then(() => {
          const isDark = newTheme === 'dark';

          document.documentElement.animate(
            {
              clipPath: isDark
                ? [`circle(${endRadius}px at ${x}px ${y}px)`, `circle(0px at ${x}px ${y}px)`]
                : [`circle(0px at ${x}px ${y}px)`, `circle(${endRadius}px at ${x}px ${y}px)`]
            },
            {
              duration: 500,
              easing: 'ease-in-out',
              pseudoElement: isDark ? '::view-transition-old(root)' : '::view-transition-new(root)'
            }
          );
        });
      } else {
        // Fallback for browsers without View Transitions API
        html.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
      }
    });

    // Run Code
    async function runCode() {
      const output = document.getElementById('output');
      output.querySelector('pre').textContent = 'Loading...';

      try {
        const response = await fetch('/posts/1');
        const json = await response.json();
        output.querySelector('pre').textContent = JSON.stringify(json, null, 2);
      } catch (error) {
        output.querySelector('pre').textContent = 'Error: ' + error.message;
      }
    }
  </script>
</body>
</html>
